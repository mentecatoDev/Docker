
<!DOCTYPE html>

<html class="no-js" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../04.-Redes%20en%20docker/" rel="prev"/>
<link href="../06.-Otros%20usos%20del%20almacenamiento/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.3, mkdocs-material-9.1.9" name="generator"/>
<title>05.-Ejemplos - Sistemas Informáticos</title>
<link href="../../assets/stylesheets/main.85bb2934.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a6bdf11c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="green" data-md-color-primary="blue-grey" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente">
          Saltar a contenido
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Cabecera" class="md-header__inner md-grid">
<a aria-label="Sistemas Informáticos" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Sistemas Informáticos">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Sistemas Informáticos
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              05.-Ejemplos
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="blue-grey" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Búsqueda" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Búsqueda" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Buscar" class="md-search__options">
<button aria-label="Limpiar" class="md-search__icon md-icon" tabindex="-1" title="Limpiar" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Pestañas" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      docker
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../01.-Introducci%C3%B3n/">
        01.-Introducción
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../02.-Instalaci%C3%B3n/">
        02.-Instalación
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../03.-Conceptos%20Clave/">
        03.-Conceptos Clave
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../04.-Manos%20a%20la%20obra/">
        04.-Manos a la obra
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/">
        05.-Gestión de imágenes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../01.-Vol%C3%BAmenes%20docker%20y%20bind%20mount/">
        06.-Volúmenes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../07.-Redes/01.-Introducci%C3%B3n%20a%20las%20redes%20en%20docker/">
        07.-Redes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../08.-Escenarios%20multicontenedor/01.-Instalaci%C3%B3n%20de%20docker-compose/">
        08.-Escenarios multicontenedor
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../09.-Ejercicios/">
        09.-Ejercicios
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../10.-Cheatsheet/">
        10.-Cheatsheet
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navegación" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Sistemas Informáticos" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Sistemas Informáticos">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Sistemas Informáticos
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        docker
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../01.-Introducci%C3%B3n/">01.-Introducción</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          01.-Introducción
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../02.-Instalaci%C3%B3n/">02.-Instalación</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          02.-Instalación
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/01.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Arch%20Linux/">
        01.-Instalación rápida en Arch Linux
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/02.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Fedora/">
        02.-Instalación rápida en Fedora
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/03.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        03.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/04.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        04.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/05.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        05.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/06.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        06.-Instalación rápida en Ubuntu
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../03.-Conceptos%20Clave/">03.-Conceptos Clave</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          03.-Conceptos Clave
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          01.-Imágenes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          01.-Imágenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/01.-Im%C3%A1genes/01.-Im%C3%A1genes/">
        01.-Imágenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/01.-Im%C3%A1genes/02.-Docker%20Hub/">
        02.-Docker Hub
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/02.-Contenedores/">
        02.-Contenedores
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/03.-Vol%C3%BAmenes/">
        03.-Volúmenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/04.-Capas/">
        04.-Capas
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/05.-Redes/">
        05.-Redes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/06.-Estructura%20de%20docker/">
        06.-Estructura de docker
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../04.-Manos%20a%20la%20obra/">04.-Manos a la obra</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          04.-Manos a la obra
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/01.-Versi%C3%B3n%20y%20Gesti%C3%B3n%20del%20Servicio/">
        01.-Versión y Gestión del Servicio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/02.-Usar%20el%20comando%20docker/">
        02.-Usar el comando docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/03.-Trabajar%20con%20im%C3%A1genes%20de%20docker/">
        03.-Trabajar con imágenes de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/04.-Ejecutar%20un%20contenedor%20de%20Docker/">
        04.-Ejecutar un contenedor de Docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/05.-Administrar%20contenedores%20de%20docker/">
        05.-Administrar contenedores de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/06.-Creaci%C3%B3n%20de%20una%20imagen%20personalizada%20a%20partir%20de%20un%20contenedor/">
        06.-Creación de una imagen personalizada a partir de un contenedor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/07.-Guardar%20im%C3%A1genes%20de%20docker%20en%20un%20repositorio%20de%20docker/">
        07.-Guardar imágenes de docker en un repositorio de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/08.-Variables%20de%20entorno/">
        08.-Variables de entorno
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/09.-Practica%20con%20Docker%20Playground/">
        09.-Practica con Docker Playground
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/10.-Limpi%C3%A1ndolo%20todo/">
        10.-Limpiándolo todo
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/11.-Ejercicios%20creaci%C3%B3n%20de%20contenedores%20b%C3%A1sicos%20I/">
        11.-Ejercicios creación de contenedores básicos I
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/">05.-Gestión de imágenes</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          05.-Gestión de imágenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/01.-Imagen%20a%20partir%20de%20un%20contenedor/">
        01.-Imagen a partir de un contenedor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/02.-Imagen%20a%20partir%20de%20un%20fichero%20Dockerfile/">
        02.-Imagen a partir de un fichero Dockerfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/03.-Construyendo%20im%C3%A1genes%20con%20docker%20build/">
        03.-Construyendo imágenes con docker build
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/04.-Organizaci%C3%B3n%20de%20las%20im%C3%A1genes/">
        04.-Organización de las imágenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/05.-Registro%20de%20im%C3%A1genes%20y%20Docker%20Hub/">
        05.-Registro de imágenes y Docker Hub
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/06.-Buenas%20pr%C3%A1cticas%20en%20creaci%C3%B3n%20de%20Dockerfile/">
        06.-Buenas prácticas en creación de Dockerfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Gesti%C3%B3n%20de%20im%C3%A1genes/07.-Ejercicios%20de%20creaci%C3%B3n%20de%20contenedores%20b%C3%A1sicos%20II/">
        07.-Ejercicios de creación de contenedores básicos II
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          06.-Volúmenes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          06.-Volúmenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01.-Vol%C3%BAmenes%20docker%20y%20bind%20mount/">
        01.-Volúmenes docker y bind mount
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02.-Asociando%20almacenamiento%20a%20los%20contenedores%20I/">
        02.-Asociando almacenamiento a los contenedores I
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03.-Asociando%20almacenamiento%20a%20los%20contenedores%20II/">
        03.-Asociando almacenamiento a los contenedores II
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04.-Redes%20en%20docker/">
        04.-Redes en docker
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          05.-Ejemplos
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        05.-Ejemplos
      </a>
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-con-volumenes">
    Ejemplo con volúmenes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-con-bind-mount">
    Ejemplo con bind mount
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06.-Otros%20usos%20del%20almacenamiento/">
        06.-Otros usos del almacenamiento
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Ejercicios%20de%20Vol%C3%BAmenes/">
        Ejercicios de Volúmenes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          07.-Redes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          07.-Redes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/01.-Introducci%C3%B3n%20a%20las%20redes%20en%20docker/">
        01.-Introducción a las redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/02.-Tipos%20de%20redes%20en%20docker/">
        02.-Tipos de redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/03.-Gestionando%20redes%20en%20docker/">
        03.-Gestionando redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/04.-Uso%20de%20la%20red%20bridge%20por%20defecto/">
        04.-Uso de la red bridge por defecto
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/05.-Uso%20de%20las%20redes%20bridge%20definidas%20por%20el%20usuario/">
        05.-Uso de las redes bridge definidas por el usuario
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/06.-Convertir%20el%20uso%20de%20la%20red%20bridge%20por%20defecto%20por%20una%20definida%20por%20el%20usuario/">
        06.-Convertir el uso de la red bridge por defecto por una definida por el usuario
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/07.-Ejemplos/">
        07.-Ejemplos
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          08.-Escenarios multicontenedor
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          08.-Escenarios multicontenedor
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/01.-Instalaci%C3%B3n%20de%20docker-compose/">
        01.-Instalación de docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/02.-El%20fichero%20docker-compose.yml/">
        02.-El fichero docker-compose.yml
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/03.-El%20comando%20docker-compose/">
        03.-El comando docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/04.-Almacenamiento%20con%20docker-compose/">
        04.-Almacenamiento con docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/05.-Redes%20con%20docker-compose/">
        05.-Redes con docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/06.-Ejemplos/">
        06.-Ejemplos
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../09.-Ejercicios/">09.-Ejercicios</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          09.-Ejercicios
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_11" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../10.-Cheatsheet/">10.-Cheatsheet</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
          10.-Cheatsheet
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-con-volumenes">
    Ejemplo con volúmenes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejemplo-con-bind-mount">
    Ejemplo con bind mount
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente">Ejemplo 1: Contenedor nextcloud con almacenamiento persistente<a class="headerlink" href="#ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente" title="Permanent link">¶</a></h1>
<p>Vamos a desplegar un contenedor con nextcloud, para simplificar la instalación vamos a realizar la instalación con una base de dato SQLite. Si estudiamos la documentación de la imagen <a href="https://hub.docker.com/_/nextcloud"><code>nextcloud</code></a> en Docker Hub, la forma más sencilla de no perder la información es crear un volumen para guardar el directorio <code>/var/www/html</code> del contenedor. Vamos a realizar el ejercicio usando volúmenes docker y bind mount.</p>
<h2 id="ejemplo-con-volumenes">Ejemplo con volúmenes<a class="headerlink" href="#ejemplo-con-volumenes" title="Permanent link">¶</a></h2>
<p>Creamos un volumen:</p>
<pre><code>$ docker volume create nextcloud
nextcloud
</code></pre>
<p>Y creamos el contenedor, guardando el directorio <code>/var/www/html</code> del contenedor en el volumen creado:</p>
<pre><code>$ docker run -d -p 80:80  -v nextcloud:/var/www/html --name contenedor_nextcloud nextcloud
</code></pre>
<p>Comprobamos que podemos acceder, terminamos de configurar la aplicación y una vez operativa subimos los ficheros a la aplicación:</p>
<p><img alt="nextcloud" src="../../img/nextcloud1.png"/></p>
<p>A continuación eliminamos el contenedor y creamos uno nuevo con el mismo volumen:</p>
<pre><code>$ docker rm -f contenedor_nextcloud

$ docker run -d -p 80:80  -v nextcloud:/var/www/html --name contenedor_nextcloud nextcloud
</code></pre>
<p>Accede de nuevo a la aplicación comprueba que la aplicación sigue configurada y que los ficheros subidos no se han perdido.</p>
<h2 id="ejemplo-con-bind-mount">Ejemplo con bind mount<a class="headerlink" href="#ejemplo-con-bind-mount" title="Permanent link">¶</a></h2>
<p>En este caso, vamos a crear un directorio en nuestro ordenador, que es el que vamos a montar en el contenedor:</p>
<pre><code>mkdir datos_nextcloud
</code></pre>
<p>Y creamos el contenedor con la siguiente instrucción:</p>
<pre><code>docker run -d -p 80:80 -v /home/vagrant/datos_nextcloud:/var/www/html --name contenedor_nextcloud nextcloud
</code></pre>
<p>Volvemos a acceder, configuramos la aplicación y subimos algún fichero. Usando bind mount tenemos acceso al directorio:</p>
<pre><code>$ cd datos_nextcloud/
~/datos_nextcloud$ ls
3rdparty  COPYING  config       core      custom_apps  index.html  lib  ocm-provider  ocs-provider  remote.php  robots.txt  themes
AUTHORS   apps     console.php  cron.php  data         index.php   occ  ocs           public.php    resources   status.php  version.php
</code></pre>
<p>Podemos comprobar que al eliminar el contenedor y crearlo de nuevo usando el mismo directorio bind mount, toda la configuración y los ficheros subidos no se han perdido.</p>
<h1 id="ejemplo2-contenedor-mariadb-con-almacenamiento-persistente">Ejemplo2: Contenedor mariadb con almacenamiento persistente<a class="headerlink" href="#ejemplo2-contenedor-mariadb-con-almacenamiento-persistente" title="Permanent link">¶</a></h1>
<p>Si estudiamos la documentación de la <a href="https://hub.docker.com/_/mariadb">imagen mariadb</a> en Docker Hub, nos indica que podemos crear un contenedor con información persistente de mariadb, de la siguiente forma:</p>
<pre><code>$ docker run --name some-mariadb -v /home/«usuario»/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mariadb
</code></pre>
<p>Es decir se va a crear un directorio <code>/home/«usuario»/datadir</code> en el host, donde se va a guardar la información de la base de datos. Si tenemos que crear de nuevo el contenedor indicaremos ese directorio como bind mount y volveremos a tener accesible la información.</p>
<pre><code>$ cd datadir/
~/datadir$ ls
aria_log.00000001  aria_log_control  ib_buffer_pool  ib_logfile0  ibdata1  ibtmp1  multi-master.info  mysql  performance_schema

$ docker exec -it some-mariadb bash -c 'mysql -uroot -p$MYSQL_ROOT_PASSWORD'
...
MariaDB [(none)]&gt; create database prueba;
MariaDB [(none)]&gt; quit

$ docker rm -f some-mariadb 
some-mariadb

$ docker run --name some-mariadb -v /home/vagrant/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mariadb
f36589090dd33b116da87e599850b1f25c9ae40e4b28c036c23e602d7bde4cc5

$ docker exec -it some-mariadb bash -c 'mysql -uroot -p $MYSQL_ROOT_PASSWORD'
...
MariaDB [(none)]&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| prueba             |
+--------------------+
4 rows in set (0.003 sec)
</code></pre>
<h2 id="que-informacion-tenemos-que-guardar">¿Qué información tenemos que guardar?<a class="headerlink" href="#que-informacion-tenemos-que-guardar" title="Permanent link">¶</a></h2>
<p>Para terminar: ¿Qué debemos guardar de forma persistente en un contenedor?</p>
<ul>
<li>Los datos de la aplicación</li>
<li>Los logs del servicio</li>
<li>La configuración del servicio: En este caso podemos añadirla a la imagen, pero será necesaria la creación de una nueva imagen si cambiamos la configuración. Si la guardamos en un volumen hay que tener en cuanta que ese fichero lo tenemos que tener en el entorno de producción (puede ser bueno, porque las configuraciones de los distintos entornos puede variar).</li>
</ul>
</article>
</div>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Volver al principio
          </button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.top.sticky", "navigation.tabs", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
<script src="../../assets/javascripts/bundle.fac441b0.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>