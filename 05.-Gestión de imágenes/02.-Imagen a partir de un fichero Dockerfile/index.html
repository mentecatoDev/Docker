
<!DOCTYPE html>

<html class="no-js" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../01.-Imagen%20a%20partir%20de%20un%20contenedor/" rel="prev"/>
<link href="../03.-Construyendo%20im%C3%A1genes%20con%20docker%20build/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.3, mkdocs-material-9.1.9" name="generator"/>
<title>02.-Imagen a partir de un fichero Dockerfile - Sistemas Informáticos</title>
<link href="../../assets/stylesheets/main.85bb2934.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a6bdf11c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="green" data-md-color-primary="blue-grey" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#gestion-de-imagenes">
          Saltar a contenido
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Cabecera" class="md-header__inner md-grid">
<a aria-label="Sistemas Informáticos" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Sistemas Informáticos">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Sistemas Informáticos
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              02.-Imagen a partir de un fichero Dockerfile
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="blue-grey" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Búsqueda" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Búsqueda" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Buscar" class="md-search__options">
<button aria-label="Limpiar" class="md-search__icon md-icon" tabindex="-1" title="Limpiar" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Pestañas" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      docker
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../01.-Introducci%C3%B3n/">
        01.-Introducción
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../02.-Instalaci%C3%B3n/">
        02.-Instalación
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../03.-Conceptos%20Clave/">
        03.-Conceptos Clave
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../04.-Manos%20a%20la%20obra/">
        04.-Manos a la obra
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        05.-Gestión de imágenes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../06.-Vol%C3%BAmenes/01.-Vol%C3%BAmenes%20docker%20y%20bind%20mount/">
        06.-Volúmenes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../07.-Redes/01.-Introducci%C3%B3n%20a%20las%20redes%20en%20docker/">
        07.-Redes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../08.-Escenarios%20multicontenedor/01.-Instalaci%C3%B3n%20de%20docker-compose/">
        08.-Escenarios multicontenedor
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../09.-Ejercicios/">
        09.-Ejercicios
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../10.-Cheatsheet/">
        10.-Cheatsheet
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navegación" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Sistemas Informáticos" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Sistemas Informáticos">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Sistemas Informáticos
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        docker
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../01.-Introducci%C3%B3n/">01.-Introducción</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          01.-Introducción
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../02.-Instalaci%C3%B3n/">02.-Instalación</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          02.-Instalación
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/01.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Arch%20Linux/">
        01.-Instalación rápida en Arch Linux
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/02.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Fedora/">
        02.-Instalación rápida en Fedora
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/03.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        03.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/04.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        04.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/05.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        05.-Instalación rápida en Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/06.-Instalaci%C3%B3n%20r%C3%A1pida%20en%20Ubuntu/">
        06.-Instalación rápida en Ubuntu
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../03.-Conceptos%20Clave/">03.-Conceptos Clave</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          03.-Conceptos Clave
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          01.-Imágenes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          01.-Imágenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/01.-Im%C3%A1genes/01.-Im%C3%A1genes/">
        01.-Imágenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/01.-Im%C3%A1genes/02.-Docker%20Hub/">
        02.-Docker Hub
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/02.-Contenedores/">
        02.-Contenedores
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/03.-Vol%C3%BAmenes/">
        03.-Volúmenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/04.-Capas/">
        04.-Capas
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/05.-Redes/">
        05.-Redes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Conceptos%20Clave/06.-Estructura%20de%20docker/">
        06.-Estructura de docker
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../04.-Manos%20a%20la%20obra/">04.-Manos a la obra</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          04.-Manos a la obra
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/01.-Versi%C3%B3n%20y%20Gesti%C3%B3n%20del%20Servicio/">
        01.-Versión y Gestión del Servicio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/02.-Usar%20el%20comando%20docker/">
        02.-Usar el comando docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/03.-Trabajar%20con%20im%C3%A1genes%20de%20docker/">
        03.-Trabajar con imágenes de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/04.-Ejecutar%20un%20contenedor%20de%20Docker/">
        04.-Ejecutar un contenedor de Docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/05.-Administrar%20contenedores%20de%20docker/">
        05.-Administrar contenedores de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/06.-Creaci%C3%B3n%20de%20una%20imagen%20personalizada%20a%20partir%20de%20un%20contenedor/">
        06.-Creación de una imagen personalizada a partir de un contenedor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/07.-Guardar%20im%C3%A1genes%20de%20docker%20en%20un%20repositorio%20de%20docker/">
        07.-Guardar imágenes de docker en un repositorio de docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/08.-Variables%20de%20entorno/">
        08.-Variables de entorno
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/09.-Practica%20con%20Docker%20Playground/">
        09.-Practica con Docker Playground
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/10.-Limpi%C3%A1ndolo%20todo/">
        10.-Limpiándolo todo
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Manos%20a%20la%20obra/11.-Ejercicios%20creaci%C3%B3n%20de%20contenedores%20b%C3%A1sicos%20I/">
        11.-Ejercicios creación de contenedores básicos I
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../">05.-Gestión de imágenes</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          05.-Gestión de imágenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01.-Imagen%20a%20partir%20de%20un%20contenedor/">
        01.-Imagen a partir de un contenedor
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<a class="md-nav__link md-nav__link--active" href="./">
        02.-Imagen a partir de un fichero Dockerfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03.-Construyendo%20im%C3%A1genes%20con%20docker%20build/">
        03.-Construyendo imágenes con docker build
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04.-Organizaci%C3%B3n%20de%20las%20im%C3%A1genes/">
        04.-Organización de las imágenes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05.-Registro%20de%20im%C3%A1genes%20y%20Docker%20Hub/">
        05.-Registro de imágenes y Docker Hub
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06.-Buenas%20pr%C3%A1cticas%20en%20creaci%C3%B3n%20de%20Dockerfile/">
        06.-Buenas prácticas en creación de Dockerfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07.-Ejercicios%20de%20creaci%C3%B3n%20de%20contenedores%20b%C3%A1sicos%20II/">
        07.-Ejercicios de creación de contenedores básicos II
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          06.-Volúmenes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          06.-Volúmenes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/01.-Vol%C3%BAmenes%20docker%20y%20bind%20mount/">
        01.-Volúmenes docker y bind mount
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/02.-Asociando%20almacenamiento%20a%20los%20contenedores%20I/">
        02.-Asociando almacenamiento a los contenedores I
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/03.-Asociando%20almacenamiento%20a%20los%20contenedores%20II/">
        03.-Asociando almacenamiento a los contenedores II
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/04.-Redes%20en%20docker/">
        04.-Redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/05.-Ejemplos/">
        05.-Ejemplos
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/06.-Otros%20usos%20del%20almacenamiento/">
        06.-Otros usos del almacenamiento
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../06.-Vol%C3%BAmenes/Ejercicios%20de%20Vol%C3%BAmenes/">
        Ejercicios de Volúmenes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          07.-Redes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          07.-Redes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/01.-Introducci%C3%B3n%20a%20las%20redes%20en%20docker/">
        01.-Introducción a las redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/02.-Tipos%20de%20redes%20en%20docker/">
        02.-Tipos de redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/03.-Gestionando%20redes%20en%20docker/">
        03.-Gestionando redes en docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/04.-Uso%20de%20la%20red%20bridge%20por%20defecto/">
        04.-Uso de la red bridge por defecto
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/05.-Uso%20de%20las%20redes%20bridge%20definidas%20por%20el%20usuario/">
        05.-Uso de las redes bridge definidas por el usuario
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/06.-Convertir%20el%20uso%20de%20la%20red%20bridge%20por%20defecto%20por%20una%20definida%20por%20el%20usuario/">
        06.-Convertir el uso de la red bridge por defecto por una definida por el usuario
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/07.-Ejemplos/">
        07.-Ejemplos
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          08.-Escenarios multicontenedor
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          08.-Escenarios multicontenedor
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/01.-Instalaci%C3%B3n%20de%20docker-compose/">
        01.-Instalación de docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/02.-El%20fichero%20docker-compose.yml/">
        02.-El fichero docker-compose.yml
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/03.-El%20comando%20docker-compose/">
        03.-El comando docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/04.-Almacenamiento%20con%20docker-compose/">
        04.-Almacenamiento con docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/05.-Redes%20con%20docker-compose/">
        05.-Redes con docker-compose
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-Escenarios%20multicontenedor/06.-Ejemplos/">
        06.-Ejemplos
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../09.-Ejercicios/">09.-Ejercicios</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          09.-Ejercicios
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_11" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../10.-Cheatsheet/">10.-Cheatsheet</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
          10.-Cheatsheet
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p>El método anterior tiene algunos inconvenientes:</p>
<ul>
<li>
<p><strong>No se puede reproducir la imagen</strong>. Si la perdemos tenemos que recordar toda la secuencia de órdenes que habíamos ejecutado desde que arrancamos el contenedor hasta que teníamos una versión definitiva e hicimos <code>docker commit</code>.</p>
</li>
<li>
<p><strong>No podemos configurar el proceso que se ejecutará en el contenedor que hemos creado desde la imagen</strong>. Los contenedores creados a partir de la nueva imagen ejecutaran por defecto el proceso que estaba configurado en la imagen base.</p>
</li>
<li>
<p><strong>No podemos cambiar la imagen de base</strong>. Si ha habido alguna actualización, problemas de seguridad, etc. con la imagen de base tenemos que descargar la nueva versión, volver a crear un nuevo contenedor basado en ella y ejecutar de nuevo toda la secuencia de órdenes.</p>
</li>
</ul>
<p>Por todas estas razones, <strong>el método preferido para la creación de imágenes es el uso de ficheros <code>Dockerfile</code> y el comando <code>docker build</code></strong>. Con este método vamos a tener las siguientes ventajas:</p>
<ul>
<li>
<p>Podremos reproducir la imagen fácilmente ya que en el fichero <code>Dockerfile</code> tenemos todas y cada una de las órdenes necesarias para la construcción de la imagen. Si además ese Dockerfile está guardado en un sistema de control de versiones como git podremos, no sólo reproducir la imagen sino asociar los cambios en el <code>Dockerfile</code> a los cambios en las versiones de las imágenes creadas.</p>
</li>
<li>
<p>Podremos configurar el proceso que se ejecutará por defecto en los contenedores creados a partir de la nueva imagen.</p>
</li>
<li>
<p>Si queremos cambiar la imagen de base esto es extremadamente sencillo con un <code>Dockerfile</code>; únicamente tendremos que modificar la primera línea de ese fichero tal y como explicaremos más adelante.</p>
</li>
</ul>
<h1 id="gestion-de-imagenes">Gestión de imágenes<a class="headerlink" href="#gestion-de-imagenes" title="Permanent link">¶</a></h1>
<p>Para crear una imagen de docker, se sigue el siguiente proceso básico:</p>
<ol>
<li><a href="#el-fichero-dockerfile">Crear un archivo <code>Dockerfile</code></a></li>
<li><a href="#instrucciones-en-un-dockerfile">Escribir las instrucciones del <code>Dockerfile</code></a></li>
<li><a href="../03.-Construyendo%20im%C3%A1genes%20con%20docker%20build/">Construir la imagen</a></li>
<li><a href="../04.-Organizaci%C3%B3n%20de%20las%20im%C3%A1genes/">Etiquetar la imagen</a></li>
<li>Subir la imagen a un repositorio de imágenes</li>
</ol>
<h1 id="ejemplo-de-dockerfile-servidor-apache">Ejemplo de <code>Dockerfile</code>: Servidor Apache<a class="headerlink" href="#ejemplo-de-dockerfile-servidor-apache" title="Permanent link">¶</a></h1>
<p>Para simplificar el proceso de crear una <a href="../01.-Imagen%20a%20partir%20de%20un%20contenedor/">imagen a partir de un contenedor</a> podemos utilizar un <code>Dockerfile</code> y un volumen local con nuestra página web en este ejemplo particular para obtener una idea de nuestros objetivos.</p>
<ul>
<li>Creamos un directorio en el sistema local que contendrá el archivo <code>index.html</code>. Por ejemplo, podemos crear un directorio llamado <code>html</code> y dentro de él colocar el archivo <code>index.html</code> con el contenido deseado.</li>
</ul>
<pre><code>$ mkdir html
$ cd html
$ echo "&lt;h1&gt;Dockerizando Apache&lt;/h1&gt;" &gt; index.html
</code></pre>
<ul>
<li>Creamos un archivo llamado <code>Dockerfile</code> en el mismo directorio donde está el directorio <code>html</code> (no dentro de él) en el que colocaremos el siguiente contenido:</li>
</ul>
<pre><code>FROM debian

RUN apt-get update &amp;&amp; apt-get install -y apache2

COPY ./html /var/www/html

EXPOSE 80

CMD ["apache2ctl", "-D", "FOREGROUND"]
</code></pre>
<p>Este <code>Dockerfile</code> utiliza la imagen base <code>debian</code>, actualiza los repositorios, instala el servidor Apache y copia el contenido del directorio <code>html</code> local al directorio <code>/var/www/html</code> dentro del contenedor. Luego expone el puerto 80 y ejecuta el comando <code>apache2ctl -D FOREGROUND</code> para iniciar el servidor Apache.</p>
<ul>
<li>Ahora podemos construir la imagen de Docker ejecutando el siguiente comando en el directorio donde se encuentra el <code>Dockerfile</code>:</li>
</ul>
<pre><code>docker build -t mi_nuevo_apache:v1 .
</code></pre>
<p>Este comando construirá la imagen de Docker utilizando el <code>Dockerfile</code> y la etiquetará como <code>mi_nuevo_apache:v1</code>.</p>
<ul>
<li>Una vez que la imagen se haya construido correctamente, podemos ejecutar el siguiente comando para iniciar un contenedor basado en esa imagen y utilizar un volumen local para el archivo <code>index.html</code>:</li>
</ul>
<pre><code>docker run -d -p 8080:80 --name servidor_web -v ./html:/var/www/html mi_nuevo_apache:v1
</code></pre>
<p>Con estos pasos, tendremos un contenedor en ejecución que utiliza el archivo <code>index.html</code> desde el volumen local y expone el puerto 8080 en nuestra máquina host.</p>
<p>Finalmente accederemos con nuestro navegador a la dirección: http://localhost:8080</p>
<blockquote>
<p><strong>Nota Aclaratoria sobre sincronización de directorios</strong>:</p>
<p><em>¿Se sincronizan los directorios <code>./hml</code> y <code>/var/www/html</code> automáticamente?</em></p>
<pre><code>  En principio, **no**. En el fichero `dockerfile` proporcionado no se establece una sincronización en tiempo real entre el directorio `./html` de nuestro sistema local y el directorio `/var/www/html` del contenedor. La instrucción `COPY` en el `Dockerfile` simplemente **copia** el contenido del directorio local `html` al directorio `/var/www/html` dentro del contenedor durante el proceso de construcción de la imagen.
</code></pre>
<p>Una vez que se ha construido y se está ejecutando un contenedor a partir de la imagen, los cambios realizados en el directorio local <code>html</code> no se reflejarán automáticamente en el directorio <code>/var/www/html</code> del contenedor. Esto significa que si realizamos modificaciones en los archivos en el directorio <code>html</code> de nuestro sistema local después de iniciar el contenedor, los cambios no se sincronizarán automáticamente en el contenedor.</p>
<p><strong>Sin embargo</strong>, hay formas de lograr la sincronización en tiempo real entre el sistema local y el contenedor. Una de las formas más comunes es utilizando volúmenes de Docker.</p>
<p>Al ejecutar el contenedor, podemos usar la opción <code>-v</code> o <code>--volume</code> para montar un volumen y establecer una <strong>sincronización bidireccional</strong> entre un directorio en tu sistema local y un directorio dentro del contenedor. Por ejemplo:</p>
<p><code>docker run -d -p 8080:80 --name servidor_web -v /ruta/al/directorio/html:/var/www/html mi_nuevo_apache:v1</code></p>
<p>En este caso, <code>/ruta/al/directorio/html</code> representa la ruta al directorio <code>html</code> en nuestro sistema local, y <code>/var/www/html</code> es el directorio dentro del contenedor. Con esta configuración, cualquier cambio realizado en el directorio <code>html</code> de nuestro sistema local se sincronizará automáticamente con el directorio <code>/var/www/html</code> dentro del contenedor.</p>
<p>Esta sincronización en tiempo real nos permite realizar cambios en los archivos del directorio <code>html</code> en nuestro sistema local y ver los resultados reflejados inmediatamente en el contenedor sin necesidad de reconstruir la imagen o reiniciar el contenedor.</p>
<p>Es importante tener en cuenta que la sincronización de directorios utilizando volúmenes <strong>solo se produce mientras el contenedor está en ejecución</strong>. Si se elimina el contenedor, los datos del volumen no persistirán a menos que se utilicen volúmenes de Docker persistentes o se realice una configuración adicional.</p>
</blockquote>
<h2 id="el-fichero-dockerfile">El fichero <code>Dockerfile</code><a class="headerlink" href="#el-fichero-dockerfile" title="Permanent link">¶</a></h2>
<p>El archivo <code>Dockerfile</code> es un archivo de texto que contiene las instrucciones para construir una imagen de Docker. En él se especifican <strong>el sistema operativo base</strong>, las <strong>dependencias</strong>, las <strong>bibliotecas</strong> y las <strong>configuraciones</strong> necesarias para la aplicación. Contiene un conjunto de instrucciones que serán ejecutadas de forma secuencial para construir una nueva imagen docker. Cada una de estas instrucciones crea una nueva capa en la imagen que estamos creando y debe empezar por una palabra clave en mayúsculas, como FROM, RUN, COPY, etc. <code>Dockerfile</code> también puede especificar <strong>variables de entorno</strong>, <strong>puertos expuestos</strong>, <strong>comandos de entrada y salida</strong> y <a href="https://docs.docker.com/engine/reference/builder/"><strong>otros metadatos</strong></a></p>
<p>En definitiva, <code>Dockerfile</code> es un fichero de texto que contiene una serie de instrucciones para construir una imagen docker. Cada instrucción añade una capa a la imagen.</p>
<h3 id="formato-de-un-dockerfile">Formato de un <code>Dockerfile</code><a class="headerlink" href="#formato-de-un-dockerfile" title="Permanent link">¶</a></h3>
<p>El fichero <code>Dockerfile</code> se creará dentro de la carpeta donde tengamos el proyecto</p>
<pre><code>FROM ubuntu:14.04
ENTRYPOINT ["/bin/echo"]
</code></pre>
<h4 id="ejecutar-un-comando">Ejecutar un comando<a class="headerlink" href="#ejecutar-un-comando" title="Permanent link">¶</a></h4>
<p>Si en lugar de utilizar entrypoints queremos pasar parámetros, podemos utilizar CMD</p>
<pre><code>CMD ["/bin/echo" , "Hi Docker !"]
</code></pre>
<p>Hay varias instrucciones que podemos usar en la construcción de un Dockerfile, pero la estructura fundamental del fichero es:</p>
<ul>
<li>Indicamos imagen base: <code>FROM</code></li>
<li>Metadatos: <code>LABEL</code></li>
<li>Instrucciones de construcción: <code>RUN, COPY, ADD, WORKDIR</code></li>
<li>Configuración: Variable de entornos, usuarios, puertos: <code>USER, EXPOSE, ENV</code></li>
<li>Instrucciones de arranque: <code>CMD, ENTRYPOINT</code></li>
</ul>
<h3 id="instrucciones-en-un-dockerfile">Instrucciones en un <code>Dockerfile</code><a class="headerlink" href="#instrucciones-en-un-dockerfile" title="Permanent link">¶</a></h3>
<p>Éstas son las principales instrucciones que podemos usar:</p>
<ul>
<li>
<p><code>FROM</code>: Sirve para especificar la imagen sobre la que voy a construir la mía. Ejemplo: <code>FROM php:7.4-apache</code></p>
</li>
<li>
<p><code>LABEL</code> : Sirve para añadir metadatos a la imagen mediante <code>«clave»=«valor»</code>. Ejemplo: <code>LABEL company=iesromerovargas</code> </p>
</li>
<li>
<p><code>COPY</code>: Para copiar ficheros desde mi equipo a la imagen. Esos ficheros deben estar en el mismo contexto (carpeta o repositorio). Su sintaxis es <code>COPY [--chown=&lt;usuario&gt;:&lt;grupo&gt;] src dest</code>. Por ejemplo: <code>COPY --chown=www-data:www-data myapp /var/www/html</code></p>
</li>
<li>
<p><code>ADD</code>: Es similar a <code>COPY</code> pero tiene funcionalidades adicionales como especificar URLs y tratar archivos comprimidos.</p>
</li>
<li>
<p><code>RUN</code>: Ejecuta una orden creando una nueva capa. El comando <code>RUN</code> puede escribirse en formato SHELL (<code>RUN «orden»</code>) o bajo la opción de escritura EXEC(<code>RUN [«orden»,«parámetro1»,«parámetro2»]</code>):</p>
<ul>
<li>Ejemplo: 
    <code>RUN apt update &amp;&amp; apt install -y git</code>
    En este caso es muy importante que pongamos la opción -y porque en el proceso de construcción no puede haber interacción con el usuario.</li>
</ul>
</li>
<li>
<p><code>WORKDIR</code>: Establece el directorio de trabajo dentro de la imagen que estamos creando para posteriormente usar las órdenes <code>RUN</code>,<code>COPY</code>,<code>ADD</code>,<code>CMD</code> o <code>ENTRYPOINT</code>.</p>
<ul>
<li>Ejemplo:
    `WORKDIR /usr/local/apache/htdocs</li>
</ul>
</li>
<li>
<p><code>EXPOSE</code>: Nos da información acerca de qué puertos tendrá abiertos el contenedor cuando se cree uno en base a la imagen que estamos creando. Es meramente informativo.</p>
<ul>
<li>Ejemplo:
    <code>EXPOSE 80</code></li>
</ul>
</li>
<li>
<p><code>USER</code>: Para especificar (por nombre o <code>UID/GID</code>) el usuario de trabajo para todas las órdenes <code>RUN</code>, <code>CMD</code> y <code>ENTRYPOINT</code> posteriores.</p>
<ul>
<li>Ejemplos:
    <code>USER gatsby / USER 1001:10001</code></li>
</ul>
</li>
<li>
<p><code>ARG</code>: Para definir variables para las cuales los usuarios pueden especificar valores a la hora de hacer el proceso de <code>build</code> mediante el <code>flag --build-arg</code>. Su sintaxis es <code>ARG «nombre_variable»</code> o <code>ARG nombre_variable=valor_por_defecto</code>. Posteriormente esa variable se puede usar en el resto de la órdenes de la siguiente manera <code>$nombre_variable</code>.</p>
<ul>
<li>Ejemplo:
     <code>ARG usuario=www-data</code>.
No se puede usar con <code>ENTRYPOINT</code> y <code>CMD</code>.</li>
</ul>
</li>
<li><code>ENV</code>: Para establecer variables de entorno dentro del contenedor. Puede ser usado posteriormente en las órdenes <code>RUN</code> añadiendo <code>$</code> delante de el nombre de la variable de entorno.<ul>
<li>Ejemplo:
     <code>ENV WEB_DOCUMENT_ROOT=/var/www/html</code>
No se puede usar con <code>ENTRYPOINT</code> y <code>CMD</code>.</li>
</ul>
</li>
<li><code>ENTRYPOINT</code>: Para establecer el ejecutable que se lanza siempre cuando se crea el contenedor con <code>docker run</code>, salvo que se especifique expresamente algo diferente con el flag <code>--entrypoint</code>. Su sintaxis es la siguiente: <code>ENTRYPOINT «command»</code> ó <code>ENTRYPOINT ["executable","param1","param2"]</code>.<ul>
<li>Ejemplo:
    <code>ENTRYPOINT ["/usr/sbin/apache2ctl","-D","FOREGROUND"]</code></li>
</ul>
</li>
<li><code>CMD</code>: Para establecer el ejecutable por defecto (salvo que se sobreescriba desde la orden <code>docker run</code>) o para especificar parámetros para un <code>ENTRYPOINT</code>. Si tenemos varios sólo se ejecuta el último. Su sintaxis es: <code>CMD param1 param2</code> ó <code>CMD ["param1","param2"]</code> ó <code>CMD["command","param1"]</code>.<ul>
<li>Ejemplo:
    <code>CMD [“-c” “/etc/nginx.conf”] / ENTRYPOINT [“nginx”]</code></li>
</ul>
</li>
</ul>
<p>Para una descripción completa sobre el fichero Dockerfile, puedes acceder a la documentación oficial.</p>
<h1 id="ejemplo-de-dockerfile-aplicacion-python">Ejemplo de <code>Dockerfile</code>: Aplicación Python<a class="headerlink" href="#ejemplo-de-dockerfile-aplicacion-python" title="Permanent link">¶</a></h1>
<pre><code># Usar una imagen base de python
FROM python:3.10

# Instalar poetry con pip
ENV POETRY_VERSION=1.4.2
RUN pip install "poetry==$POETRY_VERSION"

# Copiar los archivos de configuración de poetry
WORKDIR /app
COPY pyproject.toml poetry.lock ./

# Desactivar la creación de virtualenvs
RUN poetry config virtualenvs.create false

# Instalar las dependencias con poetry
RUN poetry install

# Copiar el archivo python
COPY hola_mundo.py ./

# Ejecutar el archivo con poetry run python
CMD ["poetry", "run", "python", "hola_mundo.py"]
</code></pre>
<p>En este caso, el fichero <code>Dockerfile</code> se utiliza para construir una imagen de Docker que ejecuta un script de Python llamado <code>hola_mundo.py</code> utilizando Poetry como gestor de dependencias y empaquetado.</p>
<p><code>Poetry</code> es una herramienta de gestión de dependencias y empaquetado para aplicaciones y proyectos de Python. Está diseñada para simplificar y agilizar el manejo de las dependencias de Python, así como la gestión del <strong>entorno virtual</strong> y la <strong>construcción de paquetes</strong>.</p>
<p>Aquí se explica el contenido y las acciones realizadas en cada instrucción de nuestro <code>Dockerfile</code>:</p>
<ul>
<li>
<p><code>FROM python:3.10</code>: Esta línea establece la imagen base para el contenedor, en este caso, se utiliza la imagen oficial de Python versión 3.10.</p>
</li>
<li>
<p><code>ENV POETRY_VERSION=1.4.2</code>: Se establece la variable de entorno <code>POETRY_VERSION</code> con el valor "1.4.2", que indica la versión específica de Poetry a instalar.</p>
</li>
<li>
<p><code>RUN pip install "poetry==$POETRY_VERSION"</code>: Se utiliza el comando <code>pip</code> para instalar Poetry en el contenedor, utilizando la versión especificada en la variable de entorno.</p>
</li>
<li>
<p><code>WORKDIR /app</code>: Establece el directorio de trabajo dentro del contenedor como "/app". Los comandos posteriores se ejecutarán en este directorio.</p>
</li>
<li>
<p><code>COPY pyproject.toml poetry.lock ./</code>: Copia los archivos de configuración de Poetry (<code>pyproject.toml</code> y <code>poetry.lock</code>) desde el directorio local al directorio de trabajo dentro del contenedor. Poetry crea por defecto un entorno virtual para cada proyecto que gestiona, pero en el caso de docker, esto no es necesario ni deseable, ya que la imagen de docker ya es un entorno aislado. Por eso, se usa ese comando para indicarle a poetry que instale las dependencias directamente en el intérprete de python de la imagen, sin crear un entorno virtual adicional.</p>
</li>
<li>
<p><code>RUN poetry config virtualenvs.create false</code>: Configura Poetry para que no cree entornos virtuales. Esto significa que las dependencias se instalarán a nivel de sistema en lugar de en un entorno virtual separado.</p>
</li>
<li>
<p><code>RUN poetry install</code>: Instala las dependencias del proyecto utilizando Poetry. Las dependencias se obtienen del archivo <code>pyproject.toml</code> y se instalan en el contenedor.</p>
</li>
<li>
<p><code>COPY hola_mundo.py ./</code>: Copia el archivo <code>hola_mundo.py</code> desde el directorio local al directorio de trabajo dentro del contenedor.</p>
</li>
<li>
<p><code>CMD ["poetry", "run", "python", "hola_mundo.py"]</code>: Define el comando predeterminado que se ejecutará cuando se inicie el contenedor. En este caso, se utiliza Poetry para ejecutar el script Python <code>hola_mundo.py</code>.</p>
</li>
</ul>
<p>Para construir la imagen, se debe ejecutar el siguiente comando en la terminal, asegurándonos de estar en la misma ubicación que el archivo <code>Dockerfile</code>:</p>
<pre><code>docker build -t «nombre-de-la-imagen:version» .
</code></pre>
<p>Después de construir y etiquetar la imagen, se puede <a href="../05.-Registro%20de%20im%C3%A1genes%20y%20Docker%20Hub/">subir a un registro de imágenes de Docker</a> utilizando el comando <code>docker push</code>. Por ejemplo:</p>
<pre><code>docker push «nombre-de-la-imagen:version»
</code></pre>
<p>Una vez subida la imagen, se puede descargar y ejecutar en cualquier sistema que admita Docker utilizando el comando <code>docker run</code>.</p>
</article>
</div>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Volver al principio
          </button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.top.sticky", "navigation.tabs", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
<script src="../../assets/javascripts/bundle.fac441b0.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>